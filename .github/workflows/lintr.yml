name: lintr

on:
  push:
    branches: [main]
  pull_request:
  schedule:
    - cron: '19 11 * * 3'

permissions:
  contents: read

jobs:
  lint:
    uses: dfe-analytical-services/dfeshiny/.github/workflows/lintr_reusable.yaml@main
    with:
      is_package: "true"
    permissions:
      contents: read # for checkout to fetch code
      security-events: write # for github/codeql-action/upload-sarif to upload SARIF results
      actions: read # only required for a private repository by github/codeql-action/upload-sarif to get the Action run status